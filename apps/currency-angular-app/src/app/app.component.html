<currency-header></currency-header>
<div class="grid-container">
  <currency-real-time-card class="currency-realtime-card">
  </currency-real-time-card>
  <mat-card class="dashboard-card datetime-controls">
    <mat-card-header>
      <mat-card-title>View</mat-card-title>
    </mat-card-header>
    <mat-tab-group
      dynamicHeight
      mat-align-tabs="center"
      (selectedTabChange)="setViewState($event.tab.textLabel.toLowerCase())"
    >
      <mat-tab label="Intraday">
        <currency-intraday-time-range
          class="currency-intraday-time-range"
        ></currency-intraday-time-range>
      </mat-tab>
      <mat-tab label="Historical">
        <currency-historical-date-range
          class="currency-historical-date-range"
        ></currency-historical-date-range>
      </mat-tab>
    </mat-tab-group>
    <mat-divider></mat-divider>
  </mat-card>
  <div *ngIf="viewState === 'intraday'; then thenBlock; else elseBlock"></div>
  <ng-template #thenBlock>
    <mat-card class="intraday-chart">
      <mat-card-header>
        <mat-card-title>Intraday Time Series</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <currency-intraday-chart></currency-intraday-chart>
      </mat-card-content>
    </mat-card>
  </ng-template>
  <ng-template #elseBlock>
    <mat-card class="historical-chart">
      <mat-card-header>
        <mat-card-title>Historical Time Series</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <currency-mono-chart></currency-mono-chart>
      </mat-card-content>
    </mat-card>
  </ng-template>
  <mat-card class="transaction-grid">
    <mat-card-header>
      <mat-card-title>Transactions</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      Transactions to do
    </mat-card-content>
  </mat-card>
  <div
    *ngIf="viewState === 'intraday'; then intradayPrices; else historicalPrices"
  ></div>
  <ng-template #intradayPrices>
    <mat-card class="intraday-grid">
      <mat-card-header>
        <mat-card-title>Intraday Prices</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <currency-intraday-rates-grid></currency-intraday-rates-grid>
      </mat-card-content>
    </mat-card>
  </ng-template>
  <ng-template #historicalPrices>
    <mat-card class="historical-grid">
      <mat-card-header>
        <mat-card-title>Historical Prices</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <currency-mono-grid></currency-mono-grid>
      </mat-card-content>
    </mat-card>
  </ng-template>
</div>
